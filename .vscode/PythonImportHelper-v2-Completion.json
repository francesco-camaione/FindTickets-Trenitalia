[
    {
        "label": "grequests",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "grequests",
        "description": "grequests",
        "detail": "grequests",
        "documentation": {}
    },
    {
        "label": "FastAPI",
        "importPath": "fastapi",
        "description": "fastapi",
        "isExtraImport": true,
        "detail": "fastapi",
        "documentation": {}
    },
    {
        "label": "Request",
        "importPath": "fastapi",
        "description": "fastapi",
        "isExtraImport": true,
        "detail": "fastapi",
        "documentation": {}
    },
    {
        "label": "jsonable_encoder",
        "importPath": "fastapi.encoders",
        "description": "fastapi.encoders",
        "isExtraImport": true,
        "detail": "fastapi.encoders",
        "documentation": {}
    },
    {
        "label": "HTMLResponse",
        "importPath": "fastapi.responses",
        "description": "fastapi.responses",
        "isExtraImport": true,
        "detail": "fastapi.responses",
        "documentation": {}
    },
    {
        "label": "JSONResponse",
        "importPath": "fastapi.responses",
        "description": "fastapi.responses",
        "isExtraImport": true,
        "detail": "fastapi.responses",
        "documentation": {}
    },
    {
        "label": "Jinja2Templates",
        "importPath": "fastapi.templating",
        "description": "fastapi.templating",
        "isExtraImport": true,
        "detail": "fastapi.templating",
        "documentation": {}
    },
    {
        "label": "StaticFiles",
        "importPath": "starlette.staticfiles",
        "description": "starlette.staticfiles",
        "isExtraImport": true,
        "detail": "starlette.staticfiles",
        "documentation": {}
    },
    {
        "label": "calendar_bestprices",
        "importPath": "main.main",
        "description": "main.main",
        "isExtraImport": true,
        "detail": "main.main",
        "documentation": {}
    },
    {
        "label": "trains_of_day_x",
        "importPath": "service",
        "description": "service",
        "isExtraImport": true,
        "detail": "service",
        "documentation": {}
    },
    {
        "label": "availabl_trains",
        "importPath": "service.train_service",
        "description": "service.train_service",
        "isExtraImport": true,
        "detail": "service.train_service",
        "documentation": {}
    },
    {
        "label": "availabl_trains",
        "importPath": "service.train_service",
        "description": "service.train_service",
        "isExtraImport": true,
        "detail": "service.train_service",
        "documentation": {}
    },
    {
        "label": "utils",
        "importPath": "utils",
        "description": "utils",
        "isExtraImport": true,
        "detail": "utils",
        "documentation": {}
    },
    {
        "label": "utils",
        "importPath": "utils",
        "description": "utils",
        "isExtraImport": true,
        "detail": "utils",
        "documentation": {}
    },
    {
        "label": "utils",
        "importPath": "utils",
        "description": "utils",
        "isExtraImport": true,
        "detail": "utils",
        "documentation": {}
    },
    {
        "label": "utils",
        "importPath": "utils",
        "description": "utils",
        "isExtraImport": true,
        "detail": "utils",
        "documentation": {}
    },
    {
        "label": "utils",
        "importPath": "utils",
        "description": "utils",
        "isExtraImport": true,
        "detail": "utils",
        "documentation": {}
    },
    {
        "label": "Day",
        "importPath": "model.day",
        "description": "model.day",
        "isExtraImport": true,
        "detail": "model.day",
        "documentation": {}
    },
    {
        "label": "Train",
        "importPath": "model.train",
        "description": "model.train",
        "isExtraImport": true,
        "detail": "model.train",
        "documentation": {}
    },
    {
        "label": "calendar_bestprices",
        "importPath": "main",
        "description": "main",
        "isExtraImport": true,
        "detail": "main",
        "documentation": {}
    },
    {
        "label": "timedelta",
        "importPath": "datetime",
        "description": "datetime",
        "isExtraImport": true,
        "detail": "datetime",
        "documentation": {}
    },
    {
        "label": "datetime",
        "importPath": "datetime",
        "description": "datetime",
        "isExtraImport": true,
        "detail": "datetime",
        "documentation": {}
    },
    {
        "label": "requests",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "requests",
        "description": "requests",
        "detail": "requests",
        "documentation": {}
    },
    {
        "label": "home",
        "kind": 2,
        "importPath": "api.api",
        "description": "api.api",
        "peekOfCode": "def home(request: Request):\n    return templates.TemplateResponse('index.html', context={'request': request})\n@app.get(\"/get-calendar\")\ndef prices(origin: str, destination: str, month: int, year: int, n_adult: int, n_baby: int, atime, frecce: str):\n    date = f\"01/{month}/{year}\"\n    response = availabl_trains(\n        origin.strip(), destination.strip(), date, n_adult, n_baby, atime, frecce)\n    calend_prices = calendar_bestprices(response)\n    json = jsonable_encoder(calend_prices)\n    return JSONResponse(content=json)",
        "detail": "api.api",
        "documentation": {}
    },
    {
        "label": "prices",
        "kind": 2,
        "importPath": "api.api",
        "description": "api.api",
        "peekOfCode": "def prices(origin: str, destination: str, month: int, year: int, n_adult: int, n_baby: int, atime, frecce: str):\n    date = f\"01/{month}/{year}\"\n    response = availabl_trains(\n        origin.strip(), destination.strip(), date, n_adult, n_baby, atime, frecce)\n    calend_prices = calendar_bestprices(response)\n    json = jsonable_encoder(calend_prices)\n    return JSONResponse(content=json)\n@app.get(\"/trains\")\ndef trains(origin, destination, day, month, year, n_adult, n_baby, atime, frecce):\n    trains_per_day = trains_of_day_x.Tr_Dayx(",
        "detail": "api.api",
        "documentation": {}
    },
    {
        "label": "trains",
        "kind": 2,
        "importPath": "api.api",
        "description": "api.api",
        "peekOfCode": "def trains(origin, destination, day, month, year, n_adult, n_baby, atime, frecce):\n    trains_per_day = trains_of_day_x.Tr_Dayx(\n        origin, destination, day, month, year, n_adult, n_baby, atime, frecce).get_data()\n    return trains_per_day\n@app.post(\"/stations\")\ndef stations(letter: str):\n    res = utils.stations(letter)\n    return res",
        "detail": "api.api",
        "documentation": {}
    },
    {
        "label": "stations",
        "kind": 2,
        "importPath": "api.api",
        "description": "api.api",
        "peekOfCode": "def stations(letter: str):\n    res = utils.stations(letter)\n    return res",
        "detail": "api.api",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "api.api",
        "description": "api.api",
        "peekOfCode": "app = FastAPI()\ntemplates = Jinja2Templates(directory=\"resources/html/\")\napp.mount(\"/html\", StaticFiles(directory=\"resources/html\"), name=\"html\")\napp.mount(\"/img\", StaticFiles(directory=\"resources/img\"), name=\"img\")\napp.mount(\"/js\", StaticFiles(directory=\"resources/js\"), name=\"js\")\napp.mount(\"/css\", StaticFiles(directory=\"resources/css\"), name=\"css\")\n@app.get(\"/\", response_class=HTMLResponse)\ndef home(request: Request):\n    return templates.TemplateResponse('index.html', context={'request': request})\n@app.get(\"/get-calendar\")",
        "detail": "api.api",
        "documentation": {}
    },
    {
        "label": "templates",
        "kind": 5,
        "importPath": "api.api",
        "description": "api.api",
        "peekOfCode": "templates = Jinja2Templates(directory=\"resources/html/\")\napp.mount(\"/html\", StaticFiles(directory=\"resources/html\"), name=\"html\")\napp.mount(\"/img\", StaticFiles(directory=\"resources/img\"), name=\"img\")\napp.mount(\"/js\", StaticFiles(directory=\"resources/js\"), name=\"js\")\napp.mount(\"/css\", StaticFiles(directory=\"resources/css\"), name=\"css\")\n@app.get(\"/\", response_class=HTMLResponse)\ndef home(request: Request):\n    return templates.TemplateResponse('index.html', context={'request': request})\n@app.get(\"/get-calendar\")\ndef prices(origin: str, destination: str, month: int, year: int, n_adult: int, n_baby: int, atime, frecce: str):",
        "detail": "api.api",
        "documentation": {}
    },
    {
        "label": "calendar_bestprices",
        "kind": 2,
        "importPath": "main.main",
        "description": "main.main",
        "peekOfCode": "def calendar_bestprices(response_list) -> dict:\n    day1_list = []\n    for train in response_list[0]:\n        if train[\"saleable\"]:\n            trains = Train(**train)\n            train_day1 = Day(utils.get_date(trains.departuretime), trains.originalPrice, trains.trainlist,\n                             trains.duration)\n            day1_list.append(train_day1)\n            day1_list.sort(key=lambda x: x.price)\n        elif IndexError:",
        "detail": "main.main",
        "documentation": {}
    },
    {
        "label": "response",
        "kind": 5,
        "importPath": "main.prova",
        "description": "main.prova",
        "peekOfCode": "response = availabl_trains('Giulianova', 'Lecce', '01/02/2022', 1, 0, '07')\ncalend_prices = calendar_bestprices(response)\nprint(calend_prices)",
        "detail": "main.prova",
        "documentation": {}
    },
    {
        "label": "calend_prices",
        "kind": 5,
        "importPath": "main.prova",
        "description": "main.prova",
        "peekOfCode": "calend_prices = calendar_bestprices(response)\nprint(calend_prices)",
        "detail": "main.prova",
        "documentation": {}
    },
    {
        "label": "Day",
        "kind": 6,
        "importPath": "model.day",
        "description": "model.day",
        "peekOfCode": "class Day:\n    def __init__(self, date, price, trains, duration):\n        self.date = date\n        self.price = price\n        self.trains = trains\n        self.duration = duration\n    def __repr__(self):\n        return f\"{self.date}  {int(self.price)}  treni: {utils.train_name(self.trains)} {self.duration}h\"",
        "detail": "model.day",
        "documentation": {}
    },
    {
        "label": "Train",
        "kind": 6,
        "importPath": "model.train",
        "description": "model.train",
        "peekOfCode": "class Train:\n    def __init__(self, idsolution, origin, destination, direction, departuretime, arrivaltime, minprice, optionaltext,\n                 duration, changesno, bookable, saleable, trainlist, onlycustom, extraInfo, showSeat, specialOffer,\n                 transportMeasureList, originalPrice):\n        self.idsolution = idsolution\n        self.origin = origin\n        self.destination = destination\n        self.direction = direction\n        self.departuretime = departuretime\n        self.arrivaltime = arrivaltime",
        "detail": "model.train",
        "documentation": {}
    },
    {
        "label": "Tr_Dayx",
        "kind": 6,
        "importPath": "service.trains_of_day_x",
        "description": "service.trains_of_day_x",
        "peekOfCode": "class Tr_Dayx:\n    def __init__(self, origin, destination, day, month, year, n_adult, n_baby, atime, frecce):\n        self.origin = origin\n        self.destination = destination\n        self.day = day\n        self.month = month\n        self.year = year\n        self.n_adult = n_adult\n        self.n_baby = n_baby\n        self.date = f\"{day}/{month}/{year}\"",
        "detail": "service.trains_of_day_x",
        "documentation": {}
    },
    {
        "label": "availabl_trains",
        "kind": 2,
        "importPath": "service.train_service",
        "description": "service.train_service",
        "peekOfCode": "def availabl_trains(origin, destination, data, n_adult, n_baby, atime, frecce):\n    dates = utils.date_range(data)  # process month dates\n    list_of_urls = []\n    for date in dates:\n        urls = f\"https://www.lefrecce.it/msite/api/solutions?origin={origin}&destination={destination}&arflag=A&\" \\\n               f\"adate={date}&atime={atime}&adultno={n_adult}&childno={n_baby}&direction=A&frecce={frecce}\" \\\n               f\"&onlyRegional=false\"\n        list_of_urls.append(urls)\n    set_of_requests = (grequests.get(url, timeout=6.00, stream=True) for url in list_of_urls)\n    responses = grequests.map(set_of_requests)  # send requests at the same time",
        "detail": "service.train_service",
        "documentation": {}
    },
    {
        "label": "date_range",
        "kind": 2,
        "importPath": "utils.utils",
        "description": "utils.utils",
        "peekOfCode": "def date_range(date_input):\n    date = datetime.strptime(date_input, \"%d/%m/%Y\").date()\n    newdate = []\n    for i in range(0, 31):\n        newdate.append(str((date + timedelta(days=i)).strftime(\"%d/%m/%Y\")))\n    return newdate\ndef get_time(iso_date: int):\n    time_ = datetime.utcfromtimestamp(iso_date / 1000).strftime('%H:%M')\n    return time_\ndef get_date(iso_date: int):  # from iso to dd-mm-yyy",
        "detail": "utils.utils",
        "documentation": {}
    },
    {
        "label": "get_time",
        "kind": 2,
        "importPath": "utils.utils",
        "description": "utils.utils",
        "peekOfCode": "def get_time(iso_date: int):\n    time_ = datetime.utcfromtimestamp(iso_date / 1000).strftime('%H:%M')\n    return time_\ndef get_date(iso_date: int):  # from iso to dd-mm-yyy\n    date_ = datetime.utcfromtimestamp(iso_date / 1000).strftime('%d-%m-%Y')\n    return date_\ndef train_name(trainlist: list):\n    names = [treni_[\"trainidentifier\"] for treni_ in trainlist]\n    train_names = \"\"\n    if len(names) >= 3:",
        "detail": "utils.utils",
        "documentation": {}
    },
    {
        "label": "get_date",
        "kind": 2,
        "importPath": "utils.utils",
        "description": "utils.utils",
        "peekOfCode": "def get_date(iso_date: int):  # from iso to dd-mm-yyy\n    date_ = datetime.utcfromtimestamp(iso_date / 1000).strftime('%d-%m-%Y')\n    return date_\ndef train_name(trainlist: list):\n    names = [treni_[\"trainidentifier\"] for treni_ in trainlist]\n    train_names = \"\"\n    if len(names) >= 3:\n        train_names += f\"{names[0]}; {names[1]}; {names[2]}\"\n    if len(names) == 2:\n        train_names += f\"{names[0]}; {names[1]}\"",
        "detail": "utils.utils",
        "documentation": {}
    },
    {
        "label": "train_name",
        "kind": 2,
        "importPath": "utils.utils",
        "description": "utils.utils",
        "peekOfCode": "def train_name(trainlist: list):\n    names = [treni_[\"trainidentifier\"] for treni_ in trainlist]\n    train_names = \"\"\n    if len(names) >= 3:\n        train_names += f\"{names[0]}; {names[1]}; {names[2]}\"\n    if len(names) == 2:\n        train_names += f\"{names[0]}; {names[1]}\"\n    if len(names) == 1:\n        train_names += f\"{names[0]}\"\n    return train_names",
        "detail": "utils.utils",
        "documentation": {}
    },
    {
        "label": "stations",
        "kind": 2,
        "importPath": "utils.utils",
        "description": "utils.utils",
        "peekOfCode": "def stations(letters: str):  # return stations based on user inputs\n    res = requests.get(\"https://www.lefrecce.it/msite/api/geolocations/locations?name=\" + letters)\n    return res.json()",
        "detail": "utils.utils",
        "documentation": {}
    }
]